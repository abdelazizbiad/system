<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->  
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->  
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->  
<head>
    <title>Responsive Resume/CV Template for Developers</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Responsive HTML5 Resume/CV Template for Developers">
    <meta name="author" content="Xiaoying Riley at 3rd Wave Media">    
    <link rel="shortcut icon" href="favicon.ico">  
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,500,400italic,300italic,300,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
    <!-- Global CSS -->
    <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">   
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="assets/plugins/font-awesome/css/font-awesome.css">
    
    <!-- Theme CSS -->  
    <link id="theme-style" rel="stylesheet" href="assets/css/styles.css">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head> 

<body>
	<header th:replace="fragments :: header"></header>
    <div class="wrapper">
        <div class="sidebar-wrapper">
            <div class="profile-container">
                <img class="profile" th:src="@{/getPicture(nomPhoto=${user.photo})}" width="150" height="150"/>
                <table><tr><td th:text="${user.nom}"></td></tr></table>
                <table><tr><td th:text="${user.prenom}"></td></tr></table>
            </div><!--//profile-container-->
			
            <div th:if="${roleUser eq 'ADMIN' || roleUser eq 'PROFESSEUR'}">
            <div class="contact-container container-block">
            	<h3 class="container-block-title">IDENTIFICATION Du Professeur</h3>
                <ul class="list-unstyled contact-list">
                    <li><i>CIN:</i><table><tr><td th:text="${user.cne}"></td></tr></table></li>
                    <li><i>email:</i><table><tr><td th:text="${user.dateNaissance}"></td></tr></table></li>
                    
                    <li><i></i>
						<table>
							<tr th:if="${roleUser} == 'ADMIN'">
								<td>ROLE:</td>
								<td>ADMIN</td>
							</tr>
						</table>
					</li>
                </ul>
            </div><!--//contact-container-->
            </div>
        </div><!--//sidebar-wrapper-->
        
        <div class="main-wrapper">
            <div th:if="${roleUser}=='ETUDIANT'">
		<h2>List Absence</h2>
		<form>
			<div th:action="@{/admin/ListAbsence}" method="get" >
				<label>Saisie le Nom ou partie du Nom:</label>
				<input type="text" name="motCle" th:value="${motCle}"/>
				<button type="submit">Chercher</button>
			</div>
		</form>
		<div th:if="${Absences}">
		<table>
			<tr>
				<th>Heure Debut Seance</th>
				<th>Heure Fin Seance</th>
				<th>Etudiant</th>
				<th>Photo Etudiant</th>
				<th>Element</th>
				<th>Professeur</th>
				<th>Justification</th>
			</tr>
			<tr th:each="Absence : ${Absences}">
				<td th:text="${Absence.heure_debut_seance}"></td>
				<td th:text="${Absence.heure_fin_seance}"></td>
				<td th:text="${Absence.etudiant.nom}+' '+${Absence.etudiant.prenom}"></td>
				<td>
					<img th:src="@{/getPicture(nomPhoto=${Absence.etudiant.photo})}" width="15" height="15"/>
				</td>
				<td th:text="${Absence.element.nom}"></td>
				<td th:text="${Absence.prof.nom}"></td>
				<td th:if="${Absence.justification}">Justifié</td>
				<td th:unless="${Absence.justification}">Non Justifié</td>
				<td><a onclick="return confirm('Voulez vous vraiment Supprimer ?')" th:href="@{delete(id=${Absence.id})}">Supprimer</a></td>
			</tr>
		</table>
	</div>
            </div>
            
         </div><!--//main-body-->
        
        
        
    </div>
 <footer class="footer" th:replace="fragments :: footer">
 
 </footer>
   
 
    <!-- Javascript -->          
    <script type="text/javascript" src="assets/plugins/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>    
    <!-- custom js -->
    <script type="text/javascript" src="assets/js/main.js"></script>            
</body>
</html> 

